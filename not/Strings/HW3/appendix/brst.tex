\section{BRST Quantization}

Following the action principle derived from the Faddeev-Popov Gauge Fixing \ref{actions}, we can describe it's BRST symmetry by 
the transformations of the \textit{matter fields} under Gauge, we know the following,
\begin{align*}
    X^\mu\qty(\sigma)&\rightarrow X'^\mu\qty(\sigma'\qty(\sigma))=X^\mu\qty(\sigma)\\
    h_{ab}\qty(\sigma)&\rightarrow h'_{ab}\qty(\sigma'\qty(\sigma))=\exp\qty(2\omega\qty(\sigma))\pdv{\sigma^c}{\sigma'^a}\pdv{\sigma^d}{\sigma'^b}h_{cd}\qty(\sigma)
\end{align*}
which have an \textit{infinitesimal} form,
\begin{align*}
    \delta X^\mu&=\xi^a\partial_a X^\mu\\
    \delta h_{ab}&=2\omega h_{ab}+\nabla_a\xi_b+\nabla_b\xi_a
\end{align*}
the BRST transformation can be obtained from these by the substitution inferred from the Faddeev-Popov gauge fix, that is, $\xi_a\rightarrow \im\epsilon c_a$ and 
$\omega\rightarrow \im \epsilon d$, where $\epsilon$ is a Grassmannian parametrization of the BRST transformation,
\begin{align*}
    \delta_{\textnormal{BRST}} X^\mu&=\im\epsilon c^a\partial_a X^\mu\\
    \delta_{\textnormal{BRST}} h_{ab}&=2\im\epsilon d h_{ab}+2\im\epsilon\nabla_{(a} c_{b)}
\end{align*}

This can be checked to be the right transformation by looking at how $S_X$ transforms under it,
\begin{align*}
    \delta_{\textnormal{BRST}}S_X&=\frac{1}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\partial_aX^\mu\partial_b \delta_{\textnormal{BRST}}X_\mu+\frac{1}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\delta_{\textnormal{BRST}}\qty(\sqrt{h}h^{ab})\partial_aX^\mu\partial_b X_\mu
\end{align*}
first, let's understood each variation part by part,
\begin{align*}
    0&=\delta_{\textnormal{BRST}}\tensor{\delta}{_a^c}\\
    0&=\delta_{\textnormal{BRST}}\qty(h_{ab}h^{bc})\\
    0&=h_{ab}\delta_{\textnormal{BRST}}h^{bc}+h^{bc}\delta_{\textnormal{BRST}}h_{ab}\\
    h_{ab}\delta_{\textnormal{BRST}}h^{bc}&=-2\im\epsilon h^{bc}\qty(d h_{ab}+\nabla_{(a} c_{b)})\\
    h^{da}h_{ab}\delta_{\textnormal{BRST}}h^{bc}&=-2\im\epsilon h^{da}h^{bc}\qty(d h_{ab}+\nabla_{(a} c_{b)})\\
    \tensor{\delta}{^d_b}\delta_{\textnormal{BRST}}h^{bc}&=-2\im\epsilon \qty(d \tensor{h}{^d^c}+\nabla^{(d} c^{c)})\\
    \delta_{\textnormal{BRST}}h^{dc}&=-2\im\epsilon \qty(d \tensor{h}{^d^c}+\nabla^{(d} c^{c)})
\end{align*}
and,
\begin{align*}
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\frac{1}{\sqrt{h}}\delta_{\textnormal{BRST}}\qty(\Det\qty[h_{ab}])\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\frac{1}{\sqrt{h}}\delta_{\textnormal{BRST}}\qty(\exp\qty(\ln\qty(\Det\qty[h_{ab}])))\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\frac{1}{\sqrt{h}}\delta_{\textnormal{BRST}}\qty(\exp\qty(\Tr\qty[\ln\qty(h_{ab})]))\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\frac{1}{\sqrt{h}}\qty(\exp\qty(\Tr\qty[\ln\qty(h_{ab})]))\delta_{\textnormal{BRST}}\qty(\Tr\qty[\ln\qty(h_{ab})])\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\frac{1}{\sqrt{h}}h\Tr\qty[\delta_{\textnormal{BRST}}\qty(\ln\qty(h_{ab}))]\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\sqrt{h}\Tr\qty[h^{ca}\delta_{\textnormal{BRST}}h_{ab}]\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\frac12\sqrt{h}h^{ba}\delta_{\textnormal{BRST}}h_{ab}\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\im\epsilon\sqrt{h}h^{ba}\qty(d h_{ab}+\nabla_{(a}c_{b)})\\
    \delta_{\textnormal{BRST}}\sqrt{h}&=\im\epsilon\sqrt{h}\qty(2d+\nabla_ac^a)
\end{align*}
so that,
\begin{align*}
    \delta_{\textnormal{BRST}}\qty(\sqrt{h}h^{ab})&=\delta_{\textnormal{BRST}}\qty(\sqrt h)h^{ab}+ \sqrt{h}\delta_{\textnormal{BRST}}\qty(h^{ab})\\
    \delta_{\textnormal{BRST}}\qty(\sqrt{h}h^{ab})&=\im\epsilon\sqrt{h}\qty(2d+\nabla_cc^c)h^{ab}-2\im\epsilon \sqrt{h}\qty(d \tensor{h}{^a^b}+\nabla^{(a} c^{b)})\\
    \delta_{\textnormal{BRST}}\qty(\sqrt{h}h^{ab})&=2\im\epsilon\sqrt{h}\qty(\frac12h^{ab}\nabla_cc^c-\nabla^{(a} c^{b)})
\end{align*}

Putting everything together now,
\begin{align*}
    \delta_{\textnormal{BRST}}S_X&=\frac{1}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\partial_aX^\mu\partial_b \delta_{\textnormal{BRST}}X_\mu+\frac{1}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\delta_{\textnormal{BRST}}\qty(\sqrt{h}h^{ab})\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\partial_aX^\mu\partial_b \qty[c^c\partial_cX_\mu]+\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}\qty(\frac12h^{ab}\nabla_cc^c-\nabla^{(a} c^{b)})\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\partial_aX^\mu\qty(\qty(\nabla_bc^c)\partial_cX_\mu+c^c\nabla_b\nabla_cX_\mu)\\
    &\quad\quad\quad+\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}\qty(\frac12h^{ab}\nabla_cc^c-\nabla^a c^b)\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}\partial_aX^\mu\partial_bX_\mu\nabla^ac^b+\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}c^c\partial_aX^\mu \nabla_c\nabla_bX_\mu\\
    &\quad\quad\quad+\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}\qty(\frac12h^{ab}\nabla_cc^c-\nabla^a c^b)\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{2\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}c^c\partial_aX^\mu \nabla_c\partial_bX_\mu+\frac{\im\epsilon}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\nabla_cc^c\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}c^c\nabla_c\qty(h^{ab}\partial_aX^\mu \partial_bX_\mu)+\frac{\im\epsilon}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}h^{ab}\nabla_cc^c\partial_aX^\mu\partial_b X_\mu\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\sqrt{h}\nabla_c\qty(c^c h^{ab}\partial_aX^\mu \partial_bX_\mu)\\
    \delta_{\textnormal{BRST}}S_X&=\frac{\im\epsilon}{4\pi\alpha'}\int\limits_{M}\dd[2]{\sigma}\partial_c\qty(\sqrt{h}c^c h^{ab}\partial_aX^\mu \partial_bX_\mu)
\end{align*}
which is a total derivative that should be zero for the theory to be BRST invariant. What should also hold is $S_{\textnormal{gh}}+S_{\textnormal{gf}}$ 
to be BRST exact, for ensuring this we need to know the BRST transformations of the ghosts and auxiliary fields\footnote{The first two equations might look a bit odd, but they are in fact a consequence of 
normalization of $\delta\qty(f\qty(\sigma))\propto\int\Dd{B}\exp\qty(\im\int\dd[2]{\sigma}\sqrt{h}B\qty(\sigma)f\qty(\sigma))$, instead of choosing $\delta\qty(f\qty(\sigma))\propto\int\Dd{B}\exp\qty(\im\int\dd[2]{\sigma}B\qty(\sigma)f\qty(\sigma))$.},
\begin{align*}
    \delta_{\textnormal{BRST}}\qty(\sqrt{h}B_{ab})&=0\\
    \delta_{\textnormal{BRST}}\qty(\sqrt{h}b_{ab})&=\epsilon\sqrt{h} B_{ab}\\
    \delta_{\textnormal{BRST}} d&=-\im\epsilon c^a\partial_a d\\
    \delta_{\textnormal{BRST}} c^a&=-\im\epsilon c^b\partial_b c^a
\end{align*}

These might look a little bit \textit{ad hoc}, and in fact are! They come from general procedures of BRST quantization. To prove BRST exactness of $S_{\textnormal{gh}}+S_{\textnormal{gf}}$ we have to prove $S_{\textnormal{gh}}+S_{\textnormal{gf}}=\delta_{\textnormal{BRST}}\mathcal O$ 
for some combination of fields $\mathcal O$, luckily, the BRST procedure already has a candidate for this,
\begin{align*}
    \delta_{\textnormal{BRST}}\qty(\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(\hat h^{ab}-h^{ab}))&=\frac{1}{4\pi}\int\dd[2]{\sigma}\delta_{\textnormal{BRST}}\qty(\sqrt{h}b_{ab})\qty(\hat h^{ab}-h^{ab})\\
    &\quad\quad\quad-\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\delta_{\textnormal{BRST}}\hat h^{ab}\\
    &\quad\quad\quad+\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\delta_{\textnormal{BRST}}\qty(h^{ab})\\
    \delta_{\textnormal{BRST}}\qty(\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(\hat h^{ab}-h^{ab}))&=\epsilon\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}B_{ab}\qty(\hat h^{ab}-h^{ab})\\
    &\quad\quad\quad+\im\epsilon\frac{1}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(dh^{ab}+\nabla^{a}c^{b})\\
    \delta_{\textnormal{BRST}}\qty(\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(\hat h^{ab}-h^{ab}))&=\im\epsilon S_{\textnormal{gf}}+\im\epsilon S_{\textnormal{gh}}\\
    \delta_{\textnormal{BRST}}\qty(\frac{1}{4\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(\hat h^{ab}-h^{ab}))&=\im\epsilon \qty(S_{\textnormal{gf}}+S_{\textnormal{gh}})
\end{align*}
and lastly, the verification of the closure of $S_{\textnormal{gh}}+S_{\textnormal{gf}}$, let's do it step by step,
\begin{align*}
    \delta_{\textnormal{BRST}}S_{\textnormal{gh}}&=\frac{1}{2\pi}\int\dd[2]{\sigma}\delta_{\textnormal{BRST}}\qty(\sqrt{h}b_{ab})\qty[h^{ab}d+\nabla^ac^b]\\
    &\quad\quad\quad-\frac{1}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty[\delta_{\textnormal{BRST}}\qty(h^{ab})d+h^{ab}\delta_{\textnormal{BRST}}d+\nabla^a\delta_{\textnormal{BRST}}c^b]\\
    \delta_{\textnormal{BRST}}S_{\textnormal{gh}}&=\frac{\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}B_{ab}\qty[h^{ab}d+\nabla^ac^b]\\
    &\quad\quad\quad-\frac{\im\epsilon}{\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\qty(dh^{ab}+\nabla^ac ^b)d\\
    &\quad\quad\quad-\frac{\im\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}h^{ab}c^c\partial_cd\\
    &\quad\quad\quad-\frac{\im\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\nabla^a\qty(c ^c\nabla_ cc^b)\\
    \delta_{\textnormal{BRST}}S_{\textnormal{gh}}&=\frac{\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}B_{ab}\qty[h^{ab}d+\nabla^ac^b]\\
    &\quad\quad\quad-\frac{\im\epsilon}{\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\nabla^ac ^bd\\
    &\quad\quad\quad-\frac{\im\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}h^{ab}c^c\partial_cd\\
    &\quad\quad\quad-\frac{\im\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}b_{ab}\nabla^a\qty(c ^c\nabla_ cc^b)
\end{align*}
and,
\begin{align*}
    \delta_{\textnormal{BRST}}S_{\textnormal{gf}}&=\frac{\im}{4\pi}\int\dd[2]{\sigma}\sqrt{h}B_{ab}\delta_{\textnormal{BRST}}h^{ab}\\
    \delta_{\textnormal{BRST}}S_{\textnormal{gf}}&=\frac{\epsilon}{2\pi}\int\dd[2]{\sigma}\sqrt{h}B_{ab}\qty(h^{ab}d+\nabla^ac ^b)
\end{align*}